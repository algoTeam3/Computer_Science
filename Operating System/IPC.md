# 프로세스 간 통신

운영체제에서 실행되는 병행 프로세스들은 `독립적`이거나 또는 `협력적` 프로세스들일 수 있다.

- 독립적 프로세스

: 프로세스가 시스템에서 실행 주인 다른 프로세스들과 데이터를 공유하지 않는 경우

- 협력적 프로세스

: 프로세스가 시스템에서 실행 중인 다른 프로세스들에 영향을 주거나 받는 경우

### 왜 협력을 허용할까?

기본적으로  운영체제는 한 프로세스가 다른 프로세스의 메모리에 접근하는 것을  금지 한다. 그럼에도 불구하고 환경을 제공하는 데는 몇가지 이유가 있다.

- 정보 공유(information sharing)
    
    : 여러 응용 프로그램이 동일한 정보에 관심이 있을 수 있다.
    
- 계산 가속화(computation speedup)
    
    : 특정 태스크를 빨리 처리하기 위해서는 서브태스크로 나누어 병렬로 처리해야 하기 때문에
    
- 모듈성(modularity)
    
    : 시스템 기능을 별도의 프로세스 또는 스레드로 나누어 모듈식 형태로 시스템을 구성할 경우
    

### IPC

- 프로세스 내부 데이터 통신
    
    하나의 프로세스에 2개이상의 스레드가 존재하는 경우의 통신 전역 변수나 파일을 이용
    
- 프로세스 간 데이터 통신
    
    같은 컴퓨터에 있는 여러 프로세스끼리 통신하는 경우로 공용 파일 또는 운영체제가 제공하는 파이프를 이용
    
- 네트워크를 이용한 데이터 통신
    
    여러 컴퓨터가 네트워크로 연결되어 있는 경우 서로간 통신이 가능한데 이때 소켓을 이용해 데이터를 주고 받는다
    

프로세스는 시스템 내에서 독립적으로 실행되기도 하고 데이터를 주고 받으며 협업하기도 한다. 프로세스가 다른 프로세스와 데이터를 주고 받는 프로세스 간 통신에는 같은 컴퓨터 내에 있는 프로세스 뿐만 아니라 네트워크로 연결된 다른 컴퓨터에 있는 프로세스와의 통신도 포함한다. 기본적으로 두가지 모델이 있다.


공유 메모리(shared memory)

- 공유되는 메모리의 영역을 구축. 프로세스들은 그영역에서 데이터를 읽고 씀으로써 정보를 공유

메시지 전달(message passing)

- 협력 프로세스들 사이에서 교환되는 메시지를 통해 이루어진다

**생산자 - 소비자 문제**
의 해결책으로 공유 메모리를 사용하는데, 생산자와 소비자 프로세스들이 병행으로 실행되도록 하려면, 생산자가 정보를 채워 넣고 소비자가 소모할 수 있는 항목들의 버퍼가 반드시 사용 가능해야 한다. 또 이 버퍼는 공유 메모리 영역에 존재해야 한다.

메시지 전달 방식은 동일한 주소 공간을 공유하지 않고도 프로세스들이 통신을 하고, 그들의 동작을 동기화할 수 있도록 허용하는 기법을 제공한다.

특히 메시지 전달 방식은 네트워크에 연결된 다른 컴퓨터들에도 프로세스가 분산되어있는 경우 유용하다.

### ****클라이언트 서버 환경에서 통신****

**소켓(Socket)**

소켓은 통신의 **극점**(endpoint)을 뜻한다. 두 프로세스가 네트워크상에서 통신을 하려면 각 프로세스 당 하나씩, 총 두 개의 소켓이 필요하다. 각 **소켓**은 **IP 주소와 포트 번호를 결합**하여 구별한다.

일반적으로 소켓은 클라이언트 - 서버 구조를 사용한다. 서버는 지정된 포트에 클라이언트 요청 메시지가 도착하기를 기다리게 된다.

요청이 수신되면 서버는 클라이언트 소켓으로부터 연결 요청을 수락함으로써 연결이 완성된다.

**원격 프로시저 호출(Remote Procedure Calls, RPC)**

프로세스들이 서로 다른 시스템 위에서 돌아갈 때, 원격 서비스를 제공하기 위해서는 **메시지 기반 통신**을 해야 한다.

따라서 이전 IPC 방식과 달리 RPC 통신에서 전달되는 메시지는 구조화되어 있고, 데이터의 패킷 수준을 넘어선다.
