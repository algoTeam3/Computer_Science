### 프로그래밍과 패러다임

 소프트웨어의 가치는 사용자가 요구하는 기능을 올바르게 제공하는 데 있다. 나아가 변화하는 요구사항에 맞게 변화할 수 있어야 한다. 그러므로  개발자는 변화에 잘 대응할 수 있도록 고민해야 한다. 같은 목적이라도 그것을 구현하는 방법은 어려 가지 일 수 있다. 이때 프로그래밍 패러다임에 대한 이해는 프로그래밍의 다양한  관점을 제공해 주고 이는 좋은 프로그램을 만드는 방법으로 이어질 수 있을지도 모른다.

### 자주 비교되는 패러다임

`절차지향 프로그래밍`

코드를 별도로 분리해서 함수나 프로시저와 같은 형태로 만들고 각 프로시저들로 프로그램을 작성하는 기법을 절차 지향이라 한다.

`객체지향 프로그래밍`

프로그래밍에서 필요한 데이터를 추상화시켜 상태와 행위를 가진 객체를 만들고 그 객체들 간의 유기적인 상호작용을 통해 로직을 구성하는 프로그래밍 방법

`반응형 프로그래밍`

데이터 스트림과 그 변화에 대한 선언적 프로그래밍 패러다임
비동기적인 데이터 스트림을 이용한 프로그래밍 기법

<aside>
💡 프로시저(함수)로 프로그램을 구성하는 절차 지향과 함수형은 같은 걸까?

</aside>

### 왜 함수형 프로그래밍인가?

```kotlin
class 자연수뒤집어배열로만들기 {
    fun solution(n: Long): IntArray 
		= n.toString().reversed().map{it.toString().toInt()}.toIntArray()
}
```

 함수형 프로그래밍 순수 함수를 조합하고 소프트웨어를 만드는 방식

- 간결함
- 안정성

> 1. 수학 함수를 사용하고 부수 효과 `side effect` 를 피하는 것이 특징인 프로그래밍 패러다임
2. 부수 효과 없이 순수 함수`pure function` 을 사용하는 프로그래밍 스타일
> 

 명령형 프로그래밍의 경우 상태가 변하기 때문에 구조를 파악하지 않으면 어떤 시점의 상태값을 파악하기 힘들다. 이를테면 디버깅을 할 경우 프로세스를 따라감과 동시에 상태값의 변화를 생각해야 한다. 반면에 함수형 프로그래밍은 변수의 불변성을  보장함으로써 추론을 하기 쉽고 구조를 파악하기 용이하다.

 고수준의 추상화를 제공함으로써 세부적인 구현에 빠지지 않고 목적에 집중할 수 있다. 물론 많이 함수들이 중첩될 경우 이애하는데 어려움이 있을 수 있지만 파이프라이닝과 재귀를 통해 for문 등을 사용하지 않고 더욱 간결하게 코드를 짤 수 있다.

 상태가 바뀌지 않는 특성으로 인해 자연스럽게 스레드 안정성이 추가 된다. 멀티스레드 환경에서 여러 스레드가 동시에 메모리에 접근하여 값을 변경할 경우 문제가 생길 수 있다. 때문에 임계 영역 관리를 통해 문제를 해결해야 한다. 함수형 프로그래밍 불변성을 보장하기 때문에 이 같은 별도의 처리가 필요 없다.

### 실용주의 관점에서 함수형 프로그래밍

- 부수효과가 없다라는 의미
    
    부수효과는 함수가 리턴값 이외에 하는 모든 일을 말한다. 응용 프로그램은 필요에 따라 데이터를 저장하거나 웹요청을 하는데 이런 기능들은 부수효과에 포함된다. 그래서 언뜻 보면 함수형 프로그래밍으로 응용 프로그램을 만드는 것은 불가능 하게 보일 수 있다. 하지만 실제로 함수형 프로그래밍으로 만들어진 소프트웨어가 많이 있다.
    
    - 순수함수와 순수하지 않은 함수
        
        ```kotlin
        fun some(a:Int):Int{
        	return (Math.random()*a.toInt()
        }
        ```
        
        ```kotlin
        fun some2(a: Int, b: Int){
        	return a + b
        }
        ```
        
        먼저 순수함수와 그렇지 않는 함수를 구분해야한다. 그리고 순수하지 않은 함수는 최대한 외부에 드러내지 않게 해야한다. 
        
- iterative를 recursive로
    
    함수형 프로그래밍에서는 어떻게 값을 계산할 수 있을지 선언하는 대신 **무엇**을 선언할지 고민해야 한다. for 나 while문과 같은 반복 명령어는 구조적으로 어떻게 동작해야 하는지를 명령하는 구문이다. 따라서 함수형 프로그래밍에서는 루프를 사용해서 해결하던 문제들을 재귀로 풀어야 한다.
    
    - 재귀의 최적화 문제
        
        ```kotlin
        fun factorialRec(n: Int): BigInteger =
          if (n <= 0) 1.toBigInteger() else n.toBigInteger() * factorialRec(n - 1)
        
        ```
        
        ```kotlin
        tailrec fun factorial(n: Int, result: BigInteger = 1.toBigInteger()): BigInteger =
          if (n <= 0) result else factorial(n - 1, result * n.toBigInteger())
        ```
        

<aside>
👉 상태를 바꿔야 할 경우 어떻게 할까?

</aside>

### 참고) 함수형 프로그래밍을 이해하기 위한 접근법

 

- 불변성(상태가 변하지 않는다)
- 참조 투명성 (동일 입력=동일 출력)
- 일급 함수(함수가 반환값과 인자값으로 쓰일수 있다)
- 게으른 평가
- 고차함수
- 모노이드
- 펑터
- 모노이드
- 모나드

참고

코틀린으로 배우는 함수형 프로그래밍, 조재용 우명인 저

Functional Thinking , Neal Ford

[라인 백엔드 개발자의 함수형 프로그래밍 언어 실전 사용기](https://www.youtube.com/watch?v=H6JxxWL6bJI)
